<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Class DeadlineQosPolicy
   | OpenDDSharp Documentation </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Class DeadlineQosPolicy
   | OpenDDSharp Documentation ">
    <meta name="generator" content="docfx 2.59.4.0">
    
    <link rel="shortcut icon" href="../favicon.ico">
    <link rel="stylesheet" href="../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../styles/docfx.css">
    <link rel="stylesheet" href="../styles/main.css">
    <meta property="docfx:navrel" content="../toc.html">
    <meta property="docfx:tocrel" content="toc.html">
    
    
    
  </head>
  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../index.html">
                <img id="logo" class="svg" src="../logo.svg" alt="">
              </a>
            </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy">
                <script async="" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4366666401981011" crossorigin="anonymous"></script>
                <!-- openddsharp_ads -->
                <ins class="adsbygoogle" style="display:block;" data-ad-client="ca-pub-4366666401981011" data-ad-slot="6527324727" data-ad-format="horizontal" data-full-width-responsive="true"></ins>
                <script>
                     (adsbygoogle = window.adsbygoogle || []).push({});
                </script>

  
  
  <h1 id="OpenDDSharp_DDS_DeadlineQosPolicy" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy" class="text-break">Class DeadlineQosPolicy
  </h1>
  <div class="markdown level0 summary"><p>This policy is useful for cases where a <a class="xref" href="OpenDDSharp.DDS.Topic.html">Topic</a> is expected to have each instance updated periodically. On the publishing side this
setting establishes a contract that the application must meet. On the subscribing side the setting establishes a minimum
requirement for the remote publishers that are expected to supply the data values.</p>
</div>
  <div class="markdown level0 conceptual"></div>
  <div class="inheritance">
    <h5>Inheritance</h5>
    <div class="level0"><span class="xref">System.Object</span></div>
    <div class="level1"><span class="xref">DeadlineQosPolicy</span></div>
  </div>
  <h6><strong>Namespace</strong>: <a class="xref" href="OpenDDSharp.DDS.html">OpenDDSharp.DDS</a></h6>
  <h6><strong>Assembly</strong>: OpenDDSharp.dll</h6>
  <h5 id="OpenDDSharp_DDS_DeadlineQosPolicy_syntax">Syntax</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public sealed class DeadlineQosPolicy : IEquatable&lt;DeadlineQosPolicy&gt;</code></pre>
  </div>
  <h5 id="OpenDDSharp_DDS_DeadlineQosPolicy_remarks"><strong>Remarks</strong></h5>
  <div class="markdown level0 remarks"><p>When the DDS &apos;matches&apos; a <a class="xref" href="OpenDDSharp.DDS.DataWriter.html">DataWriter</a> and a <a class="xref" href="OpenDDSharp.DDS.DataReader.html">DataReader</a> it checks whether the settings are compatible (i.e., offered
deadline period &lt;= requested deadline period) if they are not, the two entities are informed (via the listener or condition
mechanism) of the incompatibility of the QoS settings and communication will not occur.</p>
<p>Assuming that the reader and writer ends have compatible settings, the fulfillment of this contract is monitored by DDS
and the application is informed of any violations by means of the proper listener or condition.</p>
<p>The value offered is considered compatible with the value requested if and only if the inequality &quot;offered deadline period &lt;=
requested deadline period&quot; evaluates to &apos;true&apos;.</p>
<p>The setting of the Deadline policy must be set consistently with that of the TimeBasedFilter. For these two policies
to be consistent the settings must be such that &quot;deadline period >= minimum separation&quot;.</p>
</div>
  <h3 id="properties">Properties
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/jmmorato/openddsharp/new/develop/apiSpec/new?filename=OpenDDSharp_DDS_DeadlineQosPolicy_Period.md&amp;value=---%0Auid%3A%20OpenDDSharp.DDS.DeadlineQosPolicy.Period%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/jmmorato/openddsharp/blob/develop/Sources/OpenDDSharp/DDS/DeadlineQosPolicy.cs/#L54">View Source</a>
  </span>
  <a id="OpenDDSharp_DDS_DeadlineQosPolicy_Period_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.Period*"></a>
  <h4 id="OpenDDSharp_DDS_DeadlineQosPolicy_Period" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.Period">Period</h4>
  <div class="markdown level1 summary"><p>Gets or sets the duration of the deadline period. The default value of the period member is infinite, which requires no behavior.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public Duration Period { get; set; }</code></pre>
  </div>
  <h5 class="propertyValue">Property Value</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="OpenDDSharp.DDS.Duration.html">Duration</a></td>
        <td></td>
      </tr>
    </tbody>
  </table>
  <h5 id="OpenDDSharp_DDS_DeadlineQosPolicy_Period_remarks">Remarks</h5>
  <div class="markdown level1 remarks"><p>When this policy is set to a finite value, then the <a class="xref" href="OpenDDSharp.DDS.DataWriter.html">DataWriter</a> monitors the changes to data made by the
application and indicates failure to honor the policy by setting the corresponding status
condition and triggering the OnOfferedDeadlineMissed() listener callback. A <a class="xref" href="OpenDDSharp.DDS.DataReader.html">DataReader</a>
that detects that the data has not changed before the period has expired sets the
corresponding status condition and triggers the OnRequestedDeadlineMissed() listener callback.</p>
</div>
  <h3 id="methods">Methods
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/jmmorato/openddsharp/new/develop/apiSpec/new?filename=OpenDDSharp_DDS_DeadlineQosPolicy_Equals_OpenDDSharp_DDS_DeadlineQosPolicy_.md&amp;value=---%0Auid%3A%20OpenDDSharp.DDS.DeadlineQosPolicy.Equals(OpenDDSharp.DDS.DeadlineQosPolicy)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/jmmorato/openddsharp/blob/develop/Sources/OpenDDSharp/DDS/DeadlineQosPolicy.cs/#L74">View Source</a>
  </span>
  <a id="OpenDDSharp_DDS_DeadlineQosPolicy_Equals_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.Equals*"></a>
  <h4 id="OpenDDSharp_DDS_DeadlineQosPolicy_Equals_OpenDDSharp_DDS_DeadlineQosPolicy_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.Equals(OpenDDSharp.DDS.DeadlineQosPolicy)">Equals(DeadlineQosPolicy)</h4>
  <div class="markdown level1 summary"><p>Indicates whether the current object is equal to another object of the same type.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public bool Equals(DeadlineQosPolicy other)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="OpenDDSharp.DDS.DeadlineQosPolicy.html">DeadlineQosPolicy</a></td>
        <td><span class="parametername">other</span></td>
        <td><p>An object to compare with this object.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p><span class="xref">true</span> if the current object is equal to the other parameter; otherwise, <span class="xref">false</span>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/jmmorato/openddsharp/new/develop/apiSpec/new?filename=OpenDDSharp_DDS_DeadlineQosPolicy_Equals_System_Object_.md&amp;value=---%0Auid%3A%20OpenDDSharp.DDS.DeadlineQosPolicy.Equals(System.Object)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/jmmorato/openddsharp/blob/develop/Sources/OpenDDSharp/DDS/DeadlineQosPolicy.cs/#L89">View Source</a>
  </span>
  <a id="OpenDDSharp_DDS_DeadlineQosPolicy_Equals_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.Equals*"></a>
  <h4 id="OpenDDSharp_DDS_DeadlineQosPolicy_Equals_System_Object_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.Equals(System.Object)">Equals(Object)</h4>
  <div class="markdown level1 summary"><p>Determines whether the specified object is equal to the current object.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override bool Equals(object obj)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Object</span></td>
        <td><span class="parametername">obj</span></td>
        <td><p>The object to compare with the current object.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p><span class="xref">true</span> if the specified object is equal to the current object; otherwise, <span class="xref">false</span>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/jmmorato/openddsharp/new/develop/apiSpec/new?filename=OpenDDSharp_DDS_DeadlineQosPolicy_GetHashCode.md&amp;value=---%0Auid%3A%20OpenDDSharp.DDS.DeadlineQosPolicy.GetHashCode%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/jmmorato/openddsharp/blob/develop/Sources/OpenDDSharp/DDS/DeadlineQosPolicy.cs/#L98">View Source</a>
  </span>
  <a id="OpenDDSharp_DDS_DeadlineQosPolicy_GetHashCode_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.GetHashCode*"></a>
  <h4 id="OpenDDSharp_DDS_DeadlineQosPolicy_GetHashCode" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.GetHashCode">GetHashCode()</h4>
  <div class="markdown level1 summary"><p>Serves as the default hash function.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public override int GetHashCode()</code></pre>
  </div>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Int32</span></td>
        <td><p>A hash code for the current object.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h3 id="operators">Operators
  </h3>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/jmmorato/openddsharp/new/develop/apiSpec/new?filename=OpenDDSharp_DDS_DeadlineQosPolicy_op_Equality_OpenDDSharp_DDS_DeadlineQosPolicy_OpenDDSharp_DDS_DeadlineQosPolicy_.md&amp;value=---%0Auid%3A%20OpenDDSharp.DDS.DeadlineQosPolicy.op_Equality(OpenDDSharp.DDS.DeadlineQosPolicy%2COpenDDSharp.DDS.DeadlineQosPolicy)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/jmmorato/openddsharp/blob/develop/Sources/OpenDDSharp/DDS/DeadlineQosPolicy.cs/#L111">View Source</a>
  </span>
  <a id="OpenDDSharp_DDS_DeadlineQosPolicy_op_Equality_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.op_Equality*"></a>
  <h4 id="OpenDDSharp_DDS_DeadlineQosPolicy_op_Equality_OpenDDSharp_DDS_DeadlineQosPolicy_OpenDDSharp_DDS_DeadlineQosPolicy_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.op_Equality(OpenDDSharp.DDS.DeadlineQosPolicy,OpenDDSharp.DDS.DeadlineQosPolicy)">Equality(DeadlineQosPolicy, DeadlineQosPolicy)</h4>
  <div class="markdown level1 summary"><p>Equals comparison operator.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static bool operator ==(DeadlineQosPolicy left, DeadlineQosPolicy right)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="OpenDDSharp.DDS.DeadlineQosPolicy.html">DeadlineQosPolicy</a></td>
        <td><span class="parametername">left</span></td>
        <td><p>The left value for the comparison.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="OpenDDSharp.DDS.DeadlineQosPolicy.html">DeadlineQosPolicy</a></td>
        <td><span class="parametername">right</span></td>
        <td><p>The right value for the comparison.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p><span class="xref">true</span> if the left object is equal to the right object; otherwise, <span class="xref">false</span>.</p>
</td>
      </tr>
    </tbody>
  </table>
  <span class="small pull-right mobile-hide">
    <span class="divider">|</span>
    <a href="https://github.com/jmmorato/openddsharp/new/develop/apiSpec/new?filename=OpenDDSharp_DDS_DeadlineQosPolicy_op_Inequality_OpenDDSharp_DDS_DeadlineQosPolicy_OpenDDSharp_DDS_DeadlineQosPolicy_.md&amp;value=---%0Auid%3A%20OpenDDSharp.DDS.DeadlineQosPolicy.op_Inequality(OpenDDSharp.DDS.DeadlineQosPolicy%2COpenDDSharp.DDS.DeadlineQosPolicy)%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A">Improve this Doc</a>
  </span>
  <span class="small pull-right mobile-hide">
    <a href="https://github.com/jmmorato/openddsharp/blob/develop/Sources/OpenDDSharp/DDS/DeadlineQosPolicy.cs/#L132">View Source</a>
  </span>
  <a id="OpenDDSharp_DDS_DeadlineQosPolicy_op_Inequality_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.op_Inequality*"></a>
  <h4 id="OpenDDSharp_DDS_DeadlineQosPolicy_op_Inequality_OpenDDSharp_DDS_DeadlineQosPolicy_OpenDDSharp_DDS_DeadlineQosPolicy_" data-uid="OpenDDSharp.DDS.DeadlineQosPolicy.op_Inequality(OpenDDSharp.DDS.DeadlineQosPolicy,OpenDDSharp.DDS.DeadlineQosPolicy)">Inequality(DeadlineQosPolicy, DeadlineQosPolicy)</h4>
  <div class="markdown level1 summary"><p>Not equals comparison operator.</p>
</div>
  <div class="markdown level1 conceptual"></div>
  <h5 class="decalaration">Declaration</h5>
  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public static bool operator !=(DeadlineQosPolicy left, DeadlineQosPolicy right)</code></pre>
  </div>
  <h5 class="parameters">Parameters</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Name</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><a class="xref" href="OpenDDSharp.DDS.DeadlineQosPolicy.html">DeadlineQosPolicy</a></td>
        <td><span class="parametername">left</span></td>
        <td><p>The left value for the comparison.</p>
</td>
      </tr>
      <tr>
        <td><a class="xref" href="OpenDDSharp.DDS.DeadlineQosPolicy.html">DeadlineQosPolicy</a></td>
        <td><span class="parametername">right</span></td>
        <td><p>The right value for the comparison.</p>
</td>
      </tr>
    </tbody>
  </table>
  <h5 class="returns">Returns</h5>
  <table class="table table-bordered table-striped table-condensed">
    <thead>
      <tr>
        <th>Type</th>
        <th>Description</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><span class="xref">System.Boolean</span></td>
        <td><p><span class="xref">false</span> if the left object is equal to the right object; otherwise, <span class="xref">true</span>.</p>
</td>
      </tr>
    </tbody>
  </table>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/jmmorato/openddsharp/new/develop/apiSpec/new?filename=OpenDDSharp_DDS_DeadlineQosPolicy.md&amp;value=---%0Auid%3A%20OpenDDSharp.DDS.DeadlineQosPolicy%0Asummary%3A%20'*You%20can%20override%20summary%20for%20the%20API%20here%20using%20*MARKDOWN*%20syntax'%0A---%0A%0A*Please%20type%20below%20more%20information%20about%20this%20API%3A*%0A%0A" class="contribution-link">Improve this Doc</a>
                  </li>
                  <li>
                    <a href="https://github.com/jmmorato/openddsharp/blob/develop/Sources/OpenDDSharp/DDS/DeadlineQosPolicy.cs/#L41" class="contribution-link">View Source</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
                <h5>In This Article</h5>
                <div></div>
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            <span>Copyright &copy; 2018 Jose Morat&oacute;</span>
            
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../styles/docfx.js"></script>
    <script type="text/javascript" src="../styles/main.js"></script>
    
    <!-- mermaid support -->
    <script src="https://unpkg.com/mermaid@10.2.3/dist/mermaid.min.js"></script>
    <script>    
        // select <pre class="lang-mermaid"> _and_ <pre><code class="lang-mermaid">
        document.querySelectorAll("pre.lang-mermaid, pre>code.lang-mermaid").forEach($el => {
          // if the second selector got a hit, reference the parent <pre>
          if ($el.tagName === "CODE")
            $el = $el.parentElement
          // put the Mermaid contents in the expected <div class="mermaid">
          // plus keep the original contents in a nice <details>
          $el.outerHTML = `
            <div class="mermaid">${$el.textContent}</div>
            <details>
              <summary>Diagram source</summary>
              <pre>${$el.textContent}</pre>
            </details>
          `
        })
        
        // initialize Mermaid to [1] log errors, [2] have loose security for first-party
        // authored diagrams, and [3] respect a preferred dark color scheme
        mermaid.initialize({
          logLevel: "error", // [1]
          securityLevel: "loose", // [2]
          startOnLoad: true,
          theme: (window.matchMedia && window.matchMedia("(prefers-color-scheme: light)").matches) ?
            "light" :
            "default" // [3]
        })
    </script>
  </body>
</html>
